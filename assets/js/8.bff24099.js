(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{343:function(t,s,a){t.exports=a.p+"assets/img/data-snapshot-content.b24ac831.png"},344:function(t,s,a){t.exports=a.p+"assets/img/data-snapshot-demo.1ffb5fea.png"},371:function(t,s,a){"use strict";a.r(s);var e=a(44),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"数据快照"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据快照"}},[t._v("#")]),t._v(" 数据快照")]),t._v(" "),e("p",[t._v("数据快照为了更好的让程序理解，我们从页面快照中获取的数据。")]),t._v(" "),e("h2",{attrs:{id:"_1-数据快照包含什么？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-数据快照包含什么？"}},[t._v("#")]),t._v(" 1. 数据快照包含什么？")]),t._v(" "),e("p",[t._v('本质上，"页面快照"内包含的信息都可以在某种方式上转成"数据快照"，但对于端对端测试而已，追求的是最关键的信息，因此我们真正需要的"数据快照"只是"页面快照"的一个子集而已。')]),t._v(" "),e("p",[e("img",{attrs:{src:a(343),alt:""}})]),t._v(" "),e("h2",{attrs:{id:"_2-数据快照更具体的例子"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-数据快照更具体的例子"}},[t._v("#")]),t._v(" 2. 数据快照更具体的例子")]),t._v(" "),e("p",[t._v("上面的示意图可能还是有点抽象，我们来看个更具体一些的例子。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(344),alt:""}})]),t._v(" "),e("h2",{attrs:{id:"_3-如何测试数据快照"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-如何测试数据快照"}},[t._v("#")]),t._v(" 3. 如何测试数据快照")]),t._v(" "),e("p",[t._v("拿到了数据快照之后，我们怎么测试呢？例如，上面的数据快照中，我们有个字段 "),e("code",[t._v("count")]),t._v(" 代表的是礼包数量：")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"count"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"110"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("我们可以使用单元测试的方式来验证结果是不是这个值。但是，实际场景中，这很难行得通。这个 "),e("code",[t._v("count")]),t._v(" 的值是从接口返回的，而不同礼包的值不一样，怎么就确定为 "),e("code",[t._v("110")]),t._v(" 而不是 "),e("code",[t._v("55")]),t._v(" 呢？")]),t._v(" "),e("p",[t._v("不确定的输入，导致我们最后获取的数据快照是不确定，最终我们的测试就无从下手。")]),t._v(" "),e("p",[t._v("如何解决这个问题了，请查看 "),e("RouterLink",{attrs:{to:"/wiki/basic-concepts/test-by-mock.html"}},[t._v("基于白盒数据测试数据快照")]),t._v(" 一章。")],1)])}),[],!1,null,null,null);s.default=r.exports}}]);